<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Testing Backbonejs</title>
        <script type="text/javascript" src="jquery-1.9.0.js"></script>
        <script type="text/javascript" src="json2.js"></script>
        <script type="text/javascript" src="underscore.js"></script>
        <script type="text/javascript" src="backbone.js"></script>
        <!-- qweb most recommanded file to html templating file. -->    
        <script type="text/javascript" src="qweb.js"></script>
        <script type="text/javascript">
            QWeb.add_template("template.xml");
        </script>
        <script type="text/javascript">
            var Widget = Backbone.View.extend({
		        initialize: function(option){
		           console.log("widget option data: ", option || {});
			       this.render(); // render template			
		        },
		        render: function(){
		           this.$el.append("<h1>working</h1>");
                   console.log("this.el",this.el);
                   console.log("this.$el",this.$el);
		        },
		        events: {
			      "click h1": "warn",
		        },
		        warn: function(){
		           throw Error("Great Error Message.");
		        },
		        destroy: function(){
                  this.el.remove();
                  this.unbind();
                }
	        });
	        
	       $(function() {
	           var input = new Widget();
	           input.$el.appendTo($("#box1"));
	           
	       });
	       
	       window.onerror = function(message, url, linenumber) {
	            console.log("message: ", message);
              alert("JavaScript error: " + message + " on line " + linenumber + " for " + url);
           }
        </script>
    </head>
    <body>
        <div class="box" id="box1"></div>
    </body>
</html>

